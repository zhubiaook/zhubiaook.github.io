<!DOCTYPE html>
<html>
  <head>
    <title>Linux</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/layouts/main.css" />
<link rel="stylesheet" href="/assets/css/style.css" />
<link rel="stylesheet" href="/assets/css/navigators/navbar.css" />


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />


<link rel="icon" type="image/png" href="/assets/images/favicon.png" />


<link rel="stylesheet" href="/assets/css/style.css" />

    
    <link rel="stylesheet" href="/assets/css/layouts/list.css">
    <link rel="stylesheet" href="/assets/css/navigators/sidebar.css">


    
    
  </head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    <nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
    
    
    
      
    
    
      
    
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="https://blog.zybz.fun/">
      <img src="/assets/images/main-logo.png">blog</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      </ul>
    </div>
  </div>
  
  <img src="/assets/images/main-logo.png" class="d-none" id="main-logo">
  <img src="/assets/images/inverted-logo.png" class="d-none" id="inverted-logo">
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <input type="text" value="" placeholder="Search" data-search="" id="search-box" />
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts" data-filter="all">Posts</a></li>
            <div class="subtree">
                
  
  
  
  
  
    
    <li><a class="" href="/posts/autoops/">AutoOps</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/c/">C</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/c/c_syntax/">c_syntax</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/container/">Container</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/container/docker/">Docker</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/container/istio/">Istio</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/container/kubernetes/">Kubernetes</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/container/namespaceandcgroup/">NamespaceAndCgroup</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/container/namespaceandcgroup/namespace/">namespace</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/container/network/">Network</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/container/network/tun_tap/">tun_tap</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/database/">Database</a></li>
  

  
  
  
  
    
    
  
  
    
    <li>
      <i class="fas fa-minus-circle"></i><a class="active" href="/posts/linux/">Linux</a>
      
      <ul class="active">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/linux/bash/">Bash</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/linux/command/">Command</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/linux/command/ip/">ip</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/command/sysctl/">sysctl</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/command/tcpdump/">tcpdump</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/linux/linuxsystemprogramming/">LinuxSystemProgramming</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/linux/linuxsystemprogramming/file_and_directory_management/">file_and_directory_management</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/linuxsystemprogramming/file_io_management/">file_io_management</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/linuxsystemprogramming/memory_management/">memory_management</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/linuxsystemprogramming/process_management/">process_management</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/monitoring/">Monitoring</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/webserver/">WebServer</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/webserver/apache/">Apache</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/webserver/nginx/">Nginx</a></li>
  


      </ul>
    </li>
  


            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content container-fluid" id="content">
    <div class="container-fluid post-card-holder" id="post-card-holder">
      
      
        <div class="post-card">
  <a href="/posts/linux/2017-08-01-find/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/assets/images/default-hero.jpg'/>
      </div>
      <div class="card-body">
        <h5 class="card-title">文件查找 locate &amp; find</h5>
        <p class="card-text post-summary">文件查找(find， locate)文件查找(find， locate)在Linux文件系统中快速、准确的搜索到自己想要的文件是运维人员的一项基本能力
在Linux系统中主要使用find和locate来查找文件，两者的区别如下
locate 基于数据库索引进行查找，查找文件速度快，是模糊查询，查找不够精确，同时数据库自动更新周期为每天一次，导致不能实时查找，可以通过手动更新数据库来达到实时查找，不过更新数据库将会搜索整个磁盘，耗费系统资源，当系统繁忙时是一件危险的操作。find 命令选项特别多，可以根据各种条件精确查找文件，通过搜索磁盘进行查找，属于实时查找，由于搜索磁盘，速度比locate慢。locatelocate [options] keyword locate 查找包含关键词或正则表达式匹配的文件路径或文件名，然后输出文件的完整路径，所查找的文件需具有读、执行权限。
常用选项
-i | –ignore-cate #查找文件时忽略大小写 -r | –regexp REGEXP #使用基本正则表达式匹配文件路径 -n NUM #输出搜索到的前N个匹配的路径
实例
查找家目录下面包含.txt的文件[centos7@root math]# locate ~/*.txt
/root/1.txt
/root/3.txt
/root/dest.txt
/root/destination.txt
/root/passwd.txt
/root/shadown.txt
/root/source.txt
查找/etc/目录下面结尾包含config，且路或文件名中包含数字的文件locate -r "/etc/.*[[:digit:]]\+.*config$" &lt;=使用正则表达式进行匹配
/etc/dconf/db/distro.d/10-authconfig
/etc/selinux/targeted/active/modules/100/authconfig
/etc/setuptool.d/98netconfig
/etc/setuptool.d/99authconfig
/etc/setuptool.d/99kbdconfig
/etc/setuptool.d/99mouseconfig
/etc/setuptool.d/99sndconfig
/etc/setuptool.d/99timeconfig
/etc/sysconfig/ip6tables-config
查找家目录下以m开头的文件，忽略大小写[centos7@root math]# locate -i ~/m &lt;= -i忽略大小写</p>
      </div>
      <div class="card-footer">
        <span class="float-left">August 1, 2017</span>
        <a
        href="/posts/linux/2017-08-01-find/"
        class="float-right btn btn-outline-info btn-sm"
        >Read</a
        >
      </div>
    </div>
  </a>
</div>

      
        <div class="post-card">
  <a href="/posts/linux/bash/2017-07-29-bash-basic-variables/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/assets/images/default-hero.jpg'/>
      </div>
      <div class="card-body">
        <h5 class="card-title">bash 脚本编程基础–变量</h5>
        <p class="card-text post-summary">bash 脚本编程基础–变量bash 脚本编程基础–变量shell脚本语言是实现Linux/UNIX系统自动化运维的重要工具
bash 基础知识介绍shell 与 shell 脚本shell shell位于操作系统最外层，是用户与操作系统交互的工具。shell 是一种命令解释器，将用户输入的命令解释给操作系统执行，并处理操作系统的各种输出结果。
shell脚本 当我们将多条命令保存到文件中，便可方便、快速的执行多条命令。该文件便是shell脚本，shell脚本里不仅可以包含多条命令，还可以使用变量，流程控制语句(选择、循环、顺序)。
程序编程风格程序是由指令+数据组成，程序编程风格有两种，过程式和对象式。
过程式：以指令为中心，数据服务于指令，面向过程首先分析解决问题的所有可能情况，然后将这些解决方法整理成各个步骤，然后按步骤通过调用函数等方式顺序执行。对像式：以数据为中心，指令服务于数据，面向对象是将一切事物看做对象，甚至解决问题的思维也抽象成对象，对象并不是解决问题的具体方法，而是解决问题的模板，解决具体问题再将对象实例化。shell脚本属于过程式编程风格，过程式编程语言有如下特点
顺序执行选择执行循环执行编译执行与解释执行计算机只能识别二进制的文件，执行二进制指令，所有人类编好的程序源码(文本文件)必须翻译成二进制数据后，计算机才能理解。翻译的方式有两种，一种是由编译器将源码翻译成目标二进制文件后由计算机统一执行，这个过程称为编译执行；另一种是每输入一行命令，解释器就解释执行一行命令，这个过程称为解释执行。解释执行操作方便，但执行效率相对较低。C，C++，JAVA都是编译执行，Bash脚本是解释执行。
另外需澄清的一点是，低级语言与高级语言之间并不存在好坏之分，所谓低级与高级是指相对于人类而言，还是相对机器而言，越接近机器的语言越低级，越接近人类的语言越高级。高级语言让人类更容易理解，但执行效率相对较低，而低级语言反之。比如汇编语言相对C语言属于低级语言，而C语言相对Python是低级语言，但他们的执行效率汇编是最高的。
变量、变量名与内存的关系所有程序在未启动为进程之前都是存储在磁盘上的文件，CPU要执行程序，必须把程序启动为进程，即将磁盘上的程序包括数据加载到内存中，然后按程序的流程执行指令。显然CPU要能够从内存中将指令和数据读取到CPU内部才能执行它，CPU必然要知道要从内存中的哪块区域去读取下一条要执行的指令。为了达到此目的，内存将自己划分成了许多区域，每块区域都有一个地址编码，CPU就是根据该编码找到指令和数据的。内存中的某些区域的数据可能会要经常被使用到，我们可以记住这些区域的地址，使用到的时候就可以按地址去查找，这些区域便是变量，变量其实就是内存区域。这些地址都是数字，对于计算机而言很容易，但对人类来说简直就是痛苦，就像人们喜欢记住网站的域名，不喜欢记网站服务器的IP地址一样，所以我们将这些地址起一个名字，便是变量名。实际上为了安全起见，操作系统一般也不允许我们编写的代码里自己规划、使用内存空间，而是由操作系统分配给我们。
创建bash脚本创建脚本的一般步骤为
编写脚本，一般使用vim作为编写脚本的编辑器调试脚本 bash -n script_name #检查语法 bash -x script_name #调试#如下为一个四则运算，判断用户输入的数字及运算符是否符合要求，符合要求再进行运算
#!/bin/bash

#---------------------------------------------
# Author: zhuenbiao
# File Name: arithmetic_operation.sh
# Create Time: 2017-07-28 22:50:08
# Last Modified: 2017-07-28 22:50:08</p>
      </div>
      <div class="card-footer">
        <span class="float-left">July 29, 2017</span>
        <a
        href="/posts/linux/bash/2017-07-29-bash-basic-variables/"
        class="float-right btn btn-outline-info btn-sm"
        >Read</a
        >
      </div>
    </div>
  </a>
</div>

      
        <div class="post-card">
  <a href="/posts/linux/2017-07-27-grep/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/assets/images/default-hero.jpg'/>
      </div>
      <div class="card-body">
        <h5 class="card-title">文本三剑客之 grep</h5>
        <p class="card-text post-summary">文本三剑客之 grep文本三剑客之 grep正则表达式是一钟特殊的字符串模式，用于匹配一组字符串，正则表达式的宗旨是文本资源为我所用。正则表达式是vim, grep, sed, awk等重多强大文本处理工具的重要组成部分。正则表达式因”坑”多而闻名，其实是对正则的掌握不到位所致。各工具中正则的语法有所差别，我们将介绍在Linux系统上处理文本的三个重要工具grep, sed, awk。 本文首先介绍grep
grep, sed, awk
grep(包括egrep): 主要用来过滤文本sed: 文本编辑awk: 文本分析处理正则表达式分类 在Linux系统中，正则表达式分为两类：
基本正则表达式扩展正则正则表达式正则表达式的组成 正则表达式一般由匹配字符，次数控制字符，位置控制字符，分组字符，普通字符组成，除了普通字符外的字符都叫元字符，元字符不再表示字符字面意义，而表示控制或通配功能。
基本正则表达式字符匹配
用来表示通配功能
字符作用.匹配任意单个字符[]匹配指定范围内的任意单个字符[:lower:]匹配小写字母, 同a-z，但与匹配路径的通配符不一样喔[:upper:]匹配大写字母，同A_Z[:alph:]匹配所有大小写字母，同a-z,A-Z[:digit:]匹配数字，同0-9[:xdigit:]匹配十六进制数字[:alphnum:]匹配所有字母和数字, 同a-z,A-Z,0-9[:blank:]匹配空白字符(空格和制表符)[:space:]匹配水平或垂直空白字符(比[:blank:]包含的范围广)[:cntrl:]匹配不可打印的控制字符(退格、删除等)[:print:]匹配可打印字符[:punct:]匹配标点符号[:graph:]匹配可打印的非空白字符匹配次数</p>
      </div>
      <div class="card-footer">
        <span class="float-left">July 29, 2017</span>
        <a
        href="/posts/linux/2017-07-27-grep/"
        class="float-right btn btn-outline-info btn-sm"
        >Read</a
        >
      </div>
    </div>
  </a>
</div>

      
        <div class="post-card">
  <a href="/posts/linux/2017-07-25-access-control-lists/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/assets/images/default-hero.jpg'/>
      </div>
      <div class="card-body">
        <h5 class="card-title">Linux 文件系统上的权限</h5>
        <p class="card-text post-summary">Linux文件系统上的权限Linux 文件系统上的权限文件系统权限的概念文件系统上的权限指文件系统上文件和目录的权限，这种权限是建立在文件系统上的，与操作系统本身没关系。不同的文件系统对文件的访问控制权限是不一样的。比如ext4，xfs等CentOS6和CentOS7上的文件系统可以使用属主、属组、其它的方式针对三类用户来设置访问控制权限，而windows上常见的FAT32文件系统却不支持这种设置方式。
实验环境是：CentOS6和CentOS7系统
常见权限分类文件系统主要针对三类用户设置访问权限，当然还有更复杂的权限设置，后面介绍。 * 属主 * 属组 * 其它
如下所示通过ll命令可查看这三类权限
[centos7@root app]# ll file1 
-rw-r--r--.1 user1 grp16 Jul25 09:23 file1
#属主权限：-rw
#属组权限：-r--
#其它用户权限：r--
每类用户又定义了三类权限 * r : readable 可读 * w : writeable 可写 * x : executable 可执行
目录和文件可读，可写，可执行含义不一样 * 文件
权限位含义r可以使用查看类命令读取文件的内容w可以将内容写入文件x可以执行文件，即将文件提请到内核启动为一个进程，对于二进制可执行文件有x权限即可将其运行起来，而对于shell脚本(文本文件)，需要有r,x权限才能执行此脚本。* 目录</p>
      </div>
      <div class="card-footer">
        <span class="float-left">July 25, 2017</span>
        <a
        href="/posts/linux/2017-07-25-access-control-lists/"
        class="float-right btn btn-outline-info btn-sm"
        >Read</a
        >
      </div>
    </div>
  </a>
</div>

      
        <div class="post-card">
  <a href="/posts/linux/2017-07-23-linux-managing-users-and-groups/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/assets/images/default-hero.jpg'/>
      </div>
      <div class="card-body">
        <h5 class="card-title">Linux 用户和组的管理</h5>
        <p class="card-text post-summary">Linux 用户和组的管理Linux 用户和组的管理本文基于CentOS6 和 CentOS7系统
Linux 属于多用户多任务管理系统，系统上一切皆文件，一切用户或程序首先得获得Linux系统分配的用户，通过用户所具有对文件访问、读取、执行的权限来获取Linux系统上的资源。
用户和组的概念用户和组在Linux系统体现为用户名、UID和组名、GID，对于Linux系统只识别UID和GID，而用户名和组名是给人看的，便于记忆，有点类似域名和IP吧。也就是说修改了用户名和组名，UID和GID不变并不会影响用户和组所具有的权限，列如我们将UID为500的用户名删除后属主部分将变成UID-rw-r--r--. 1 500 zb10 0 Jul 23 09:47 1.txt，既然通过用户就可以获取系统资源，那我们为什么还需要组呢，都是为了权限分配的方便，比如有一类用户，对某些文件具有相同的读取、删除、修改等权限，若我们一个一个的将这些权限分配给这类用户，用户数量少还可以做到，大批量用户将累惨了。可以创建一个组，然后将这类用加入到组中，然后将权限分配给组，该组的用户将继承组中的权限。
用户和组的关系一对一 一对多 多对一
一个用户既可以只有一个组（该组为这个用户的私有组）, 也可以加入多个组中（其中与用户同名的是用户的基本组，其它为该用户的附加组）。当然一个组中也可以有多个用户，这是创建组的初衷。
用户和组配置文件文件路径描述/etc/passwd用户及属性信息/etc/shadow用户密码及属性信息/etc/group组及属性信息/etc/gshadow组密码及属性信息/etc/login.defs控制新建用户和组的属性/etc/default/useradd新建用户默认值/etc/skel/此路径中存放用户家目录的模板文件/etc/passwd 格式描述UserName : x : UID : GID : Comment : HomeDir : ShellDir 包含7个字段，下面分别介绍</p>
      </div>
      <div class="card-footer">
        <span class="float-left">July 23, 2017</span>
        <a
        href="/posts/linux/2017-07-23-linux-managing-users-and-groups/"
        class="float-right btn btn-outline-info btn-sm"
        >Read</a
        >
      </div>
    </div>
  </a>
</div>

      
    </div>
    <div class="paginator">
      
<ul class="pagination">
  <li class="page-item">
    <a href="/posts/linux/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/posts/linux/page/2/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/posts/linux/">1</a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/posts/linux/page/2/">2</a>
  </li>
  <li class="page-item active">
    <a class="page-link" href="/posts/linux/page/3/">3</a>
  </li>
  <li class="page-item disabled">
    <a  class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/posts/linux/page/3/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
  </li>
</ul>


    </div>
  </div>
</section>


      
       
    </div>

    <footer class="container-fluid text-center align-content-center footer pb-2">
  <div class="container pt-5">
    <div class="row text-left">
      <div class="col-md-4 col-sm-12">
        <h5>Navigation</h5>
        
        <ul>
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#links">Links</a>
            </li>
            
        </ul>
        

      </div>
      <div class="col-md-4 col-sm-12">
        <h5>Contact Me</h5>
        <ul>
          
          <li><span>Email: </span> <span>zhubiaook@outlook.com</span></li>
          
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  <div class="container">
    <div class="row text-left">
      <div class="col-md-4">
        <a id="theme" href="https://github.com/hossainemruz/toha" target="#">
          <img src="/assets/images/inverted-logo.png">
          Toha
        </a>
      </div>
      <div class="col-md-4 text-center">© 2020 Copyright.</div>
      <div class="col-md-4 text-right">
        <a id="hugo" href="https://gohugo.io/">Powered by Hugo
        <img
          src="/assets/images/hugo-logo-wide.svg"
          alt="Hugo Logo"
          height="18"
        />
        </a>
      </div>
    </div>
  </div>
</footer>

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src="/assets/js/navbar.js"></script>
<script src="/assets/js/main.js"></script>


    
    
    <script src="/assets/js/list.js"></script>

  </body>
</html>
